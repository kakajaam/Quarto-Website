{
  "hash": "cfc47ccccfb319c0cebd6db3c05c0fd1",
  "result": {
    "markdown": "---\ntitle: \"exam cheat sheet\"\nformat: html\n---\n\n\nyaml的區塊\n\n------------------------------------------------------------------------\n\n`output:`\n\n`word_document:`\n\n`highlight: NULL`\n\n------------------------------------------------------------------------\n\n\n\n\n\n#### 年齡計算方式\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- df %>%\n  mutate(\n    a2y = as.numeric(a2y),\n    a2r = as.numeric(a2r),\n    year = as.numeric(year),\n    a2y_r = ifelse(a2y > 995, NA, a2y),\n    a2r_r = ifelse(a2r > 995, NA, a2r),\n    age_calculated = year - (a2y_r + 1911),  # 民國年轉西元年\n    age = case_when(\n      !is.na(a2r_r) ~ a2r_r,           # 優先使用受訪者告知年齡\n      !is.na(age_calculated) ~ age_calculated,  # 其次用計算年齡\n      TRUE ~ NA\n    ))\n```\n:::\n\n\n#### 指標分數加總\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- df %>%\n  rowwise() %>% #類似rowSums\n  mutate(marriage = sum(c_across(f1c_r:f1d_r), na.rm=F)) %>%\n  ungroup()\n```\n:::\n\n\n#### 邏輯迴歸（y為二元變數）\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel <- glm(divorce ~ age + factor(edu), df, family = \"binomial\")\n```\n:::\n\n\n#### 信度分析（大於等於0.7）\n\n\n::: {.cell}\n\n```{.r .cell-code}\nalpha <- df %>%\n  dplyr::select(f1c_r:f1f_r) %>%\n  alpha()\n\nalpha$total$raw_alpha \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.438885\n```\n:::\n:::\n\n\n#### 卡方檢定\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable <- table(df$divorce, df$edu)\nchisq.test(table) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPearson's Chi-squared test\n\ndata:  table\nX-squared = 28.715, df = 4, p-value = 8.931e-06\n```\n:::\n:::\n\n\n#### 兩獨立樣本T檢定\n\n相依樣本則是`t.test(df$x1, df$x2, paired = TRUE)`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt.test(age ~ divorce, df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWelch Two Sample t-test\n\ndata:  age by divorce\nt = -5.3838, df = 545.92, p-value = 1.085e-07\nalternative hypothesis: true difference in means between group 想離婚 and group 不想離婚 is not equal to 0\n95 percent confidence interval:\n -7.417904 -3.451964\nsample estimates:\n  mean in group 想離婚 mean in group 不想離婚 \n              49.33191               54.76685 \n```\n:::\n:::\n\n\n#### Anova\n\n\n::: {.cell}\n\n```{.r .cell-code}\naovtest <- aov(marriage~marital, df) \nsummary(aovtest)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n              Df Sum Sq Mean Sq F value Pr(>F)    \nmarital        3    585  195.07   28.21 <2e-16 ***\nResiduals   1301   8996    6.91                   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n268 observations deleted due to missingness\n```\n:::\n\n```{.r .cell-code}\ntukey <- TukeyHSD(aovtest)\ntukey <- as.data.frame(tukey$marital)%>%\n  mutate(Comparison = rownames(.))%>%\n  relocate(Comparison)\n\nflextable(tukey) %>%\n  set_caption(\"組間比較\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"tabwid\"><style>.cl-d08c224c{}.cl-d088f1c6{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d08a4f1c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d08a4f1d{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d08a5c3c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d08a5c3d{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d08a5c3e{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d08a5c46{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d08a5c47{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d08a5c48{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d08c224c'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-d08a5c3c\"><p class=\"cl-d08a4f1c\"><span class=\"cl-d088f1c6\">Comparison</span></p></th><th class=\"cl-d08a5c3d\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">diff</span></p></th><th class=\"cl-d08a5c3d\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">lwr</span></p></th><th class=\"cl-d08a5c3d\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">upr</span></p></th><th class=\"cl-d08a5c3d\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">p adj</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d08a5c3e\"><p class=\"cl-d08a4f1c\"><span class=\"cl-d088f1c6\">已婚有偶且未曾認真考慮離婚-已婚有偶且曾認真考慮離婚</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.954570883</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.41071918</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">1.49842259</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.0000408392447748263</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d08a5c3e\"><p class=\"cl-d08a4f1c\"><span class=\"cl-d088f1c6\">未婚-已婚有偶且曾認真考慮離婚</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-0.598134209</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-1.15248254</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-0.04378588</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.0285607118833983709</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d08a5c3e\"><p class=\"cl-d08a4f1c\"><span class=\"cl-d088f1c6\">離婚/分居-已婚有偶且曾認真考慮離婚</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.002433344</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-0.74579985</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.75066654</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.9999997896046826096</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d08a5c3e\"><p class=\"cl-d08a4f1c\"><span class=\"cl-d088f1c6\">未婚-已婚有偶且未曾認真考慮離婚</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-1.552705092</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-1.99171536</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-1.11369482</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.0000000000004544143</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d08a5c3e\"><p class=\"cl-d08a4f1c\"><span class=\"cl-d088f1c6\">離婚/分居-已婚有偶且未曾認真考慮離婚</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-0.952137539</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-1.61943122</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-0.28484386</span></p></td><td class=\"cl-d08a5c46\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.0014367014569663938</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d08a5c47\"><p class=\"cl-d08a4f1c\"><span class=\"cl-d088f1c6\">離婚/分居-未婚</span></p></td><td class=\"cl-d08a5c48\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.600567553</span></p></td><td class=\"cl-d08a5c48\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">-0.07530836</span></p></td><td class=\"cl-d08a5c48\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">1.27644347</span></p></td><td class=\"cl-d08a5c48\"><p class=\"cl-d08a4f1d\"><span class=\"cl-d088f1c6\">0.1018537697261078234</span></p></td></tr></tbody></table></div>\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/tabwid-1.1.3/tabwid.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/tabwid-1.1.3/tabwid.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}